<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Breakage and Fine Collection</title>
    <link rel="stylesheet" href="profile.css">
</head>
<body>
    <section>
        <div class="introduction">
            <h2>Breakage and Fine Collection</h2>
            <p>Manage infractions, payments, records efficiently.</p>
        </div>
        <div class="form-container">
            <form action="" method="post" novalidate>
                <div class="input-container">
                    <input 
                        type="text" 
                        name="roll-number" 
                        id="roll-number" 
                        aria-label="Roll Number" 
                        placeholder="Roll Number"
                        required>
                    <svg class="icon" width="24" height="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><circle fill="#FF7979" cx="12" cy="12" r="12"/><rect fill="#FFF" x="11" y="6" width="2" height="9" rx="1"/><rect fill="#FFF" x="11" y="17" width="2" height="2" rx="1"/></g></svg>
                    <p class="message"></p>
                </div>
                <div class="input-container">
                    <input 
                        type="text" 
                        name="name" 
                        aria-label="Name" 
                        placeholder="Name"
                        maxlength="30"
                        readonly>
                    <svg class="icon" width="24" height="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><circle fill="#FF7979" cx="12" cy="12" r="12"/><rect fill="#FFF" x="11" y="6" width="2" height="9" rx="1"/><rect fill="#FFF" x="11" y="17" width="2" height="2" rx="1"/></g></svg>
                    <p class="message"></p>
                </div>
                <div class="input-container">
                    <input 
                        type="text" 
                        name="room-number" 
                        aria-label="Room Number" 
                        placeholder="Room Number"
                        maxlength="10"
                        readonly>
                    <svg class="icon" width="24" height="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><circle fill="#FF7979" cx="12" cy="12" r="12"/><rect fill="#FFF" x="11" y="6" width="2" height="9" rx="1"/><rect fill="#FFF" x="11" y="17" width="2" height="2" rx="1"/></g></svg>
                    <p class="message"></p>
                </div>
                <div class="input-container">
                    <input 
                        type="text" 
                        name="reason" 
                        aria-label="Reason for Fine" 
                        placeholder="Reason for Fine"
                        readonly>
                    <svg class="icon" width="24" height="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><circle fill="#FF7979" cx="12" cy="12" r="12"/><rect fill="#FFF" x="11" y="6" width="2" height="9" rx="1"/><rect fill="#FFF" x="11" y="17" width="2" height="2" rx="1"/></g></svg>
                    <p class="message"></p>
                </div>
                <div class="input-container">
                    <input 
                        type="email" 
                        name="email" 
                        aria-label="Email Address" 
                        placeholder="Email Address"
                        readonly>
                    <svg class="icon" width="24" height="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><circle fill="#FF7979" cx="12" cy="12" r="12"/><rect fill="#FFF" x="11" y="6" width="2" height="9" rx="1"/><rect fill="#FFF" x="11" y="17" width="2" height="2" rx="1"/></g></svg>
                    <p class="message"></p>
                </div>
                <div class="input-container">
                    <input 
                        type="number" 
                        name="fine-amount" 
                        aria-label="Fine Amount" 
                        placeholder="Fine Amount"
                        readonly>
                    <svg class="icon" width="24" height="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><circle fill="#FF7979" cx="12" cy="12" r="12"/><rect fill="#FFF" x="11" y="6" width="2" height="9" rx="1"/><rect fill="#FFF" x="11" y="17" width="2" height="2" rx="1"/></g></svg>
                    <p class="message"></p>
                </div>
                <button type="submit">Submit</button>
                <p class="terms-of-service">By clicking the button, you are redirected to our <a href="#">admin&nbsp;home&nbsp;page</a></p>
            </form>
        </div>
    </section>

    <script>
        const rollNumberInput = document.getElementById('roll-number');
        const nameInput = document.querySelector('input[name="name"]');
        const roomNumberInput = document.querySelector('input[name="room-number"]');
        const emailInput = document.querySelector('input[name="email"]');

        rollNumberInput.addEventListener('change', async () => {
            const rollNumber = rollNumberInput.value;
            const response = await fetch(`student_data.php?rollNumber=${rollNumber}`);
            const data = await response.json();

            if (data) {
                nameInput.value = data.name;
                roomNumberInput.value = data.roomNumber;
                emailInput.value = data.email;
            } else {
                // Handle case when no data is found for the given roll number
                console.log('No data found for the given roll number');
            }
        });
    </script>
</body>
</html>
